#### 激光雷达点云聚类

https://blog.csdn.net/AdamShan/article/details/83015570?spm=1001.2014.3001.5501

1. 聚类在激光雷达环境感知中的作用
 就无人车的环境感知而言，方案很多，根据使用的传感器的不同，算法也截然不同，有单纯基于图像视觉的方法，也有基于激光雷达的方法，激光雷达以其稳定可靠、精度高并且能同时应用于定位和环境感知而被广泛采用。激光雷达环境感知一般的流程为：
* **分割地面**，从而减少地面的点对目标检测的影响
* **点云聚类**，将目标按照点的分布进行聚类，从而降低后续计算的计算量
* **模式识别**，对分割得到的点云进行特征提取，使用提取出来的特征训练分类器进行模式识别，近年来深度学习取得进展，也有不少使用深度神经网络的端到端检测算法。
* **目标追踪**，在完成模式识别以后我们实际上已经得到了目标障碍物的类别（是行人还是车辆还是别的）、障碍物的轮廓（一个3维的bounding box）、障碍物的位置（障碍物形心相对于激光雷达的xyz坐标）。为了方便规划模块完成对障碍物的预测，我们需要建立障碍物在前后帧（来自传感器的前后两次信号）的关系，即需要给障碍物一个ID，并且能够持续追踪这个障碍物，在目标追踪中，我们前面介绍的卡尔曼滤波、扩展卡尔曼滤波和无损卡尔曼滤波被广泛使用。
2. 根据使用的传感器的不同，在点云聚类完成以后，对障碍物进一步的模式识别通常有两种做法：
* 直接针对分割出来的点云进行模式识别
* 使用相机对目标进行模式识别（图像），将相机和雷达进行联合标定，将相机得到的检测目标投射到3维的点云空间，融合图像检测和点云聚类的结果实现目标检测和分类
目前来说，第一种方法依赖于密集的点云才能达到稳定可靠的效果，为了实现密集点云，通常使用高线激光雷达（如Velodyne的HDL-64），或者采用多雷达组合（单个32线雷达+多个16线雷达）来实现密集点云，这类方法要达到安全稳定的感知效果成本高昂。第二种方法依赖于图像检测的精度，由于深度神经网络的发展，基于图像的目标检测已经非常稳定可靠了，但是，多路图像的深度学习检测依赖于强大的芯片，满足车规级要求的深度学习芯片缺乏。
  **可见点云聚类是激光雷达环境感知中的重要步骤，实际上，在低速、简单场景下，仅使用聚类已经能够达到很好的障碍物感知效果了。**

---

0. 地面切割：阈值滤波，切除过高过低过近的点;将点云按水平旋转角分组，并每一组点云按距离排序;点云分类，地面/非地面
1. 阈值滤波:去除距离车身过近过远过高的点
> 创建滤波器、设置需要滤波的点云、获取需要滤掉的点云索引(对应数组内部的下标)、设置需要滤波的点云索引、滤波、输出滤波后的点云

2. 降采样：减少计算时间
3. 点云聚类:因为点云距离越远就越稀疏
> 为了消除车身自身的雷达反射的影响，距离过近的点云忽略;
